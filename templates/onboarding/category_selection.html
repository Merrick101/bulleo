{% extends "base.html" %}
{% load i18n %}
{% load static %}

{% block content %}
<div class="container mt-5">
  <h2 class="text-center mb-4">{% trans "Select Your Preferred Categories" %}</h2>
  
  {% if error %}
    <div class="alert alert-danger text-center">{{ error }}</div>
  {% endif %}
  
  <form method="post" action="{% url 'users:onboarding' %}">
    {% csrf_token %}
    <div class="row">
      {% for category in categories %}
      <div class="col-md-4 col-sm-6 mb-3">
        <div class="form-check category-option">
          <input class="form-check-input" type="checkbox" name="categories" id="category-{{ category.id }}" value="{{ category.id }}">
          <label class="form-check-label" for="category-{{ category.id }}">
            {{ category.name }}
          </label>
        </div>
      </div>
      {% endfor %}
    </div>
    <div class="text-center mt-4">
      <button type="submit" class="btn btn-primary">{% trans "Save Preferences" %}</button>
    </div>
  </form>
</div>

<!-- Include JavaScript for real-time feedback -->
<script src="{% static 'js/category-selection.js' %}"></script>
{% endblock %}
